<Window x:Class="CodeDoc.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:ignore="http://www.galasoft.ch/ignore"
        xmlns:local="clr-namespace:CodeDoc.Controls"
        xmlns:sgz="clr-namespace:SugzTools.Controls;assembly=SugzTools"
        xmlns:c="clr-namespace:SugzTools.Converters;assembly=SugzTools"
        mc:Ignorable="d ignore"
        Title="SugzTools Code Documentation"
        Height="380"
        Width="750"
        Background="{StaticResource MaxBackground}"
        DataContext="{Binding Main, Source={StaticResource Locator}}"
        Icon="Resources/CodeDoc.ico"
        Cursor="{Binding Cursor}">

    <Window.Resources>
        <c:InvertVisibilityConverter x:Key="InvertVisibility" />
    </Window.Resources>
    
    <Grid>
        <Grid Margin="5">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="200" />
                <ColumnDefinition Width="5" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>

            <Border BorderBrush="{DynamicResource MaxRolloutBorder}"
                    Background="{DynamicResource MaxRollout}"
                    BorderThickness="1,1,0,1">
                <local:SgzSlidingDockPanel Width="30">
                    <sgz:SgzButton Command="{Binding AddFolderCommand}"
                                   Width="30"
                                   Height="30"
                                   IsTransparent="True"
                                   DockPanel.Dock="Top"
                                   HorizontalAlignment="Left"
                                   VerticalAlignment="Top">
                        <sgz:SgzIcon Icon="MdiFolderPlus"
                                     IsEnabled="False"
                                     Width="16"
                                     Height="18" />
                    </sgz:SgzButton>
                    <sgz:SgzButton Command="{Binding LoadConfigCommand}"
                                   Width="30"
                                   Height="30"
                                   IsTransparent="True"
                                   DockPanel.Dock="Top"
                                   HorizontalAlignment="Left"
                                   VerticalAlignment="Top">
                        <sgz:SgzIcon Icon="MdiFolderUpload"
                                     IsEnabled="False"
                                     Width="16"
                                     Height="18" />
                    </sgz:SgzButton>
                    <sgz:SgzButton Command="{Binding SaveConfigCommand}"
                                   Width="30"
                                   Height="30"
                                   IsTransparent="True"
                                   DockPanel.Dock="Top"
                                   HorizontalAlignment="Left"
                                   VerticalAlignment="Top">
                        <sgz:SgzIcon Icon="MdiContentSave"
                                     IsEnabled="False"
                                     Width="15"
                                     Height="15" />
                    </sgz:SgzButton>
                </local:SgzSlidingDockPanel>
            </Border>
            <local:EditableTreeView Grid.Column="1"
                                    ItemsSource="{Binding Folders}"
                                    BorderBrush="{DynamicResource MaxRolloutBorder}"
                                    Background="{DynamicResource MaxRollout}"
                                    BorderThickness="1"
                                    Foreground="{DynamicResource MaxText}"
                                    Padding="0,5" />
            <GridSplitter HorizontalAlignment="Stretch"
                          Background="{DynamicResource MaxRolloutBorder}"
                          Grid.Column="2"
                          Template="{DynamicResource GridSplitterTemplate}" />
        </Grid>
        
        <Border Background="{DynamicResource MaxRollout}"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Bottom">
            <Border.Effect>
                <DropShadowEffect Direction="90"
                                  Opacity="0.2"
                                  ShadowDepth="2" />
            </Border.Effect>
            <local:SgzSlidingDockPanel IsOpen="{Binding BottomPanelIsOpen}"
                                       AnimationType="Height"
                                       Height="0"
                                       OpenSize="25"
                                       ShowButton="False"
                                       AnimationDuration="150"
                                       Margin="5,0">
                <TextBlock Text="{Binding Status, Mode=OneWay}"
                           Foreground="{DynamicResource MaxText}"
                           VerticalAlignment="Center"
                           Margin="0,0,0,0"
                           Width="175" />
                <ProgressBar x:Name="progressBar"
                             Grid.Row="1"
                             Grid.ColumnSpan="4"
                             Value="{Binding Progress}"
                             Height="10" />
            </local:SgzSlidingDockPanel>
        </Border>
        
    </Grid>
    
</Window>
    
    
    
